(function(t){function e(e){for(var i,n,r=e[0],c=e[1],l=e[2],d=0,u=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var r=a[n];0!==s[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var i={},n={app:0},s={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-4dffa580":"6f48db8c"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-4dffa580":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-4dffa580":"6be961fd"}[t]+".css",s=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===i||d===s))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===i||d===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[t],h.parentNode.removeChild(h),a(o)},h.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){n[t]=0})));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,a){i=s[t]=[e,a]}));e.push(i[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t);var u=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(h);var a=s[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",u.name="ChunkLoadError",u.type=i,u.request=n,a[1](u)}s[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(a,i,function(e){return t[e]}.bind(null,i));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var h=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1ebe":function(t,e,a){},"2cc8":function(t,e,a){t.exports=a.p+"img/background4.282b2cda.jpeg"},"2f83":function(t,e,a){},"32d4":function(t,e,a){},"41bf":function(t,e,a){},"45ec":function(t,e,a){t.exports=a.p+"img/logomale.7b826c85.png"},"4cd1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"navbarx"}},[a("Navbarx")],1),a("b-card",{staticClass:"theCard",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"text-center interior"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1),t._m(0)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticStyle:{color:"white"},attrs:{id:"footerZjadlem"}},[a("div",{staticStyle:{display:"flex","flex-direction":"row","flex-wrap":"wrap","justify-content":"center","allign-items":"center","allign-content":"center",padding:"10px"},attrs:{id:"container"}},[a("div",{staticStyle:{"flex-direction":"column"}},[a("div",{staticStyle:{padding:"0",margin:"0"}},[t._v("ZJADLEM.PL 2022")]),a("div",{staticStyle:{padding:"0",margin:"0"}},[a("a",{attrs:{href:"mailto:support@zjadlem.pl"}},[t._v("support@zjadlem.pl")])])])])])}],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{change_navbar:t.scrollPosition>105},attrs:{id:"main"}},[i("b-navbar",{attrs:{toggleable:"lg",type:"dark",id:"part2"}},[i("div",{attrs:{id:"rzad1"}},[i("b-navbar-brand",{staticStyle:{width:"11em",cursor:"pointer"},attrs:{to:"/#/",active:"/#/"==t.$route.name},on:{click:function(e){return t.scrollToTop()}}},[i("b-img",{attrs:{src:a("cf05"),fluid:"",alt:"ZJADLEM"}})],1),i("div",{attrs:{id:"searchbar"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-input",{staticStyle:{margin:"5px",width:"20vw"},attrs:{placeholder:"Wyszukaj.."},model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}}),i("b-button",{staticStyle:{margin:"5px"},attrs:{variant:"outline-warning",id:"szukaj",to:"/Browser"},on:{click:t.searchClick}},[t._v("Szukaj")])],1)]),i("div",{attrs:{to:"/profile",active:"/profile"==t.$route.name}},[i("ProfileButton",{attrs:{nameProf:"pierwszy"}})],1)],1),i("div",{class:{change_navbarColor:t.scrollPosition>105},attrs:{id:"rzad2"}},[i("b-navbar-nav",{staticClass:"ml-auto navidwa",staticStyle:{padding:"0",margin:"auto"}},[i("b-navbar-brand",{staticClass:"showItemRowDwa",class:{change_show:t.scrollPosition>105},staticStyle:{width:"3rem",cursor:"pointer"},attrs:{id:"itemDrop"},on:{click:function(e){return t.scrollToTop()}}},[i("b-img",{attrs:{src:a("45ec"),fluid:"",alt:"ZJADLEM"}})],1),i("b-nav-item-dropdown",{attrs:{"toggle-class":"text-white",text:"Restauracje",id:"itemDrop"}},[i("b-dropdown-item",{attrs:{id:"gdanskSel",to:"/Browser"},on:{click:[function(e){return t.scrollToTop()},function(e){return t.miastoSelection("Gdańsk")}]}},[t._v("Gdańsk")]),i("b-dropdown-item",{attrs:{id:"gdyniaSel",to:"/Browser"},on:{click:[function(e){return t.scrollToTop()},function(e){return t.miastoSelection("Gdynia")}]}},[t._v("Gdynia")]),i("b-dropdown-item",{attrs:{id:"sopotSel",to:"/Browser"},on:{click:[function(e){return t.scrollToTop()},function(e){return t.miastoSelection("Sopot")}]}},[t._v("Sopot")]),i("b-dropdown-item",{attrs:{id:"redaSel",to:"/Browser"},on:{click:[function(e){return t.scrollToTop()},function(e){return t.miastoSelection("Reda")}]}},[t._v("Reda")])],1),i("b-nav-item-dropdown",{attrs:{"toggle-class":"text-white",text:"Sklepy",right:"",id:"itemDrop"}},[i("b-dropdown-item",{attrs:{disabled:"",href:"#"},on:{click:function(e){return t.scrollToTop()}}},[t._v("Żabka")]),i("b-dropdown-item",{attrs:{disabled:"",href:"#"},on:{click:function(e){return t.scrollToTop()}}},[t._v("Kaufland")]),i("b-dropdown-item",{attrs:{disabled:"",href:"#"},on:{click:function(e){return t.scrollToTop()}}},[t._v("Biedronka")])],1),i("b-nav-item",{attrs:{href:"#",to:"/About",active:"/About"==t.$route.name,id:"itemDrop"},on:{click:function(e){return t.scrollToTop()}}},[i("span",[t._v("O nas")])]),t.$auth.isAuthenticated?t._e():i("b-nav-item",{attrs:{id:"itemDrop",to:"/profile"},on:{click:t.login}},[t._v("Moje zjadłem")]),t._v(" "),t.$auth.isAuthenticated?i("b-nav-item",{staticClass:"moje",attrs:{id:"itemDrop",to:"/profile",active:"/profile"==t.$route.name},on:{click:function(e){return t.scrollToTop()}}},[t._v("Moje zjadłem")]):t._e(),i("b-nav-item",{staticClass:"showItemRowDwa",class:{change_show:t.scrollPosition>105},attrs:{id:"itemDrop"},on:{click:function(e){return t.scrollToTop()}}},[i("div",{attrs:{id:"profRowDwa"}},[i("ProfileButton",{attrs:{nameProf:"drugi"},on:{click:function(e){return t.scrollToTop()}}})],1)]),i("b-popover",{attrs:{triggers:"hover focus",id:"maleProfPop",placement:"bottom",target:"profRowDwa","custom-class":"my-popover-class"},scopedSlots:t._u([{key:"title",fn:function(){return[t.$auth.isAuthenticated?t._e():i("span",{attrs:{id:"notLoggedUser"}},[t._v("Musisz się najpierw zalogować!")]),t.$auth.isAuthenticated?i("span",{attrs:{id:"loggedUser"}},[t._v("Witaj"),null!=t.$auth.user.nickname?i("span",[t._v(" "+t._s(t.$auth.user.nickname))]):i("span",[t._v(" smakoszu")]),t._v("!")]):t._e()]},proxy:!0}])},[i("div",{staticClass:"buttonsLogin"},[t.$auth.isAuthenticated?t._e():i("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"login"},on:{click:t.login}},[t._v("Register/Log in")]),i("div",{staticClass:"profileDropdown"},[i("b-button-group",{attrs:{vertical:""}},[t.$auth.isAuthenticated?i("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"mojProfil"},on:{click:t.profileClick}},[t._v("Mój profil")]):t._e(),t.$auth.isAuthenticated?i("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"logout"},on:{click:t.logout}},[t._v("Log out")]):t._e()],1)],1)],1)])],1)],1)])],1)},r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profilePic"}},[t.$auth.isAuthenticated?a("div",[a("b-avatar",{staticClass:"avatar"},[a("img",{staticClass:"avatar",attrs:{src:t.$auth.user.picture}})])],1):a("div",[a("b-avatar",{staticClass:"avatar",attrs:{variant:"primary",text:"ZJ"}})],1),a("b-popover",{attrs:{triggers:"hover focus",placement:"bottom",target:"profilePic","custom-class":"popoverProfile"},scopedSlots:t._u([{key:"title",fn:function(){return[t.$auth.isAuthenticated?t._e():a("span",{attrs:{id:"notLoggedUser"}},[t._v("Musisz się najpierw zalogować!")]),t.$auth.isAuthenticated?a("span",{attrs:{id:"loggedUser"}},[t._v("Witaj"),null!=t.$auth.user.nickname?a("span",[t._v(" "+t._s(t.$auth.user.nickname))]):a("span",[t._v(" smakoszu")]),t._v("!")]):t._e()]},proxy:!0}])},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.translate-modal",modifiers:{"translate-modal":!0}}],staticClass:"buttonProfileDropdown",staticStyle:{width:"100%",margin:"0",padding:"0"}},[t._v(" Język ")]),a("div",{staticClass:"buttonsLogin"},[t.$auth.isAuthenticated?t._e():a("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"login"},on:{click:t.login}},[t._v("Register/Log in")]),a("div",{staticClass:"profileDropdown"},[a("b-button-group",{attrs:{vertical:""}},[t.$auth.isAuthenticated?a("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"mojProfil"},on:{click:t.profileClick}},[t._v("Mój profil")]):t._e(),t.$auth.isAuthenticated?a("b-button",{staticClass:"buttonProfileDropdown",attrs:{id:"logout"},on:{click:t.logout}},[t._v("Log out")]):t._e()],1)],1)],1)],1),a("translate-modal")],1)},l=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"translate-modal",size:"l",title:"Przetłumacz stronę","show-backdrop":"",scrollable:""}},[a("Translator",{attrs:{countries:t.countries},on:{"on-country-click":t.hideModal}})],1)},u=[],h=a("c707"),m={name:"TranslateModal",components:{Translator:h["a"]},data:function(){return{countries:[{code:"en|pl",title:"Polish"},{code:"en|en",title:"English"},{code:"en|zh-CN",title:"Chinese (Simplified)"},{code:"en|fr",title:"French"},{code:"en|de",title:"German"},{code:"en|it",title:"Italian"},{code:"en|ru",title:"Russian"},{code:"en|es",title:"Spanish"},{code:"en|iw",title:"Hebrew",flagIconUrl:"https://flagicons.lipis.dev/flags/4x3/il.svg",altText:"Hebrew language translation"}]}},methods:{hideModal:function(){this.$bvModal.hide("translate-modal")}}},p=m,g=a("2877"),v=Object(g["a"])(p,d,u,!1,null,null,null),f=v.exports,b={name:"ProfileButton",components:{TranslateModal:f},props:{nameProf:String},data:function(){return{active:0}},methods:{profileClick:function(){this.$router.push("/profile"),this.popOverClick()},popOverClick:function(){this.$root.$emit("bv::hide::popover")},login:function(){this.$auth.loginWithRedirect(),this.popOverClick()},logout:function(){this.$auth.logout({returnTo:window.location.origin}),this.popOverClick()}}},y=b,w=(a("9c61"),Object(g["a"])(y,c,l,!1,null,"1ebfb8ee",null)),k=w.exports,_={name:"Navbarx",components:{ProfileButton:k},data:function(){return{scrollPosition:null,textSearch:""}},methods:{updateScroll:function(){this.scrollPosition=window.scrollY},scrollToTop:function(){window.scrollTo(0,0)},goHome:function(){this.$router.push("/")},profileClick:function(){this.$router.push("/profile"),this.popOverClick()},popOverClick:function(){this.$root.$emit("bv::hide::popover")},login:function(){this.$auth.loginWithRedirect(),this.popOverClick()},logout:function(){this.$auth.logout({returnTo:window.location.origin}),this.popOverClick()},goBack:function(){this.$router.go(-1)},miastoSelection:function(t){this.$store.state.miasto=t,this.$store.state.searchPhrase="",this.$store.dispatch("bindRestauracja")},searchClick:function(){this.$store.state.searchPhrase=this.textSearch,this.$store.state.miasto="",this.bindRest()},bindRest:function(){this.$store.dispatch("bindRestauracjaSearch")}},mounted:function(){window.addEventListener("scroll",this.updateScroll)}},S=_,j=(a("bac5"),Object(g["a"])(S,o,r,!1,null,"ded2ff0c",null)),O=j.exports,x={components:{Navbarx:O},methods:{profileLink:function(){this.$router.push("/profile")}}},z=x,$=(a("5c0b"),Object(g["a"])(z,n,s,!1,null,null,null)),R=$.exports,D=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home_new"},[a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image3}})],1),a("div",{staticClass:"background",attrs:{id:"backgroundSecond"}}),a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image2}})],1),a("div",{staticClass:"background",attrs:{id:"backgroundSecond"}}),a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image4}})],1),a("div",{staticClass:"background",attrs:{id:"backgroundSecond"}})])},A=[],P=a("8e76"),K=a.n(P),M=a("eac6"),U=a.n(M),W=a("c8cc"),N=a.n(W),T=a("2cc8"),E=a.n(T),L={name:"Home_new",metaInfo:{title:"Zjadłem.pl | Podziel się swoją opinią!"},created:function(){null!=this.$auth.user.email?this.$store.state.currentUserEmail=this.$auth.user.email:this.$store.state.currentUserEmail=null},data:function(){return{text:"",background:"",images:{image1:K.a,image2:U.a,image3:N.a,image4:E.a}}},methods:{}},I=L,B=(a("e6fc"),Object(g["a"])(I,C,A,!1,null,"60f9371e",null)),Z=B.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser"},[a("div",{attrs:{id:"tlo"}},[a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image2}})],1),a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image4}})],1)]),a("div",{attrs:{id:"browserRest"}},[a("BrowserData")],1)])},q=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"browserData"}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"tytul"},[a("div",{staticStyle:{"padding-top":"1%"},attrs:{id:"gornaLinia"}},[a("div",[a("h2",[t._v(" Znaleziono "+t._s(this.$store.state.restauracje.filter(t.kuchniaSel).length)+" Restauracji "),""!=this.wybranaKuchnia?a("span",[t._v(" z kuchnią "+t._s(this.wybranaKuchnia))]):t._e(),t._v(" "),""!=this.$store.state.miasto?a("span",[t._v(" w "+t._s(this.$store.state.miasto)+" ")]):t._e()])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"dolnaLinia"}},[a("div",[a("label",[t._v("Ilość wyświetlanych restauracji: "+t._s(t.restLimMax)+" ")])]),a("div",{attrs:{id:"wyborKuchni"}},[t._v(" Kuchnia: "),a("b-button",{on:{click:function(e){t.wybranaKuchnia=""}}},[t._v("Wszystkie ")]),a("b-button",{on:{click:function(e){t.wybranaKuchnia="Polska"}}},[t._v("Polska ")]),a("b-button",{on:{click:function(e){t.wybranaKuchnia="Amerykańska"}}},[t._v("Amerykańska ")]),a("b-button",{on:{click:function(e){t.wybranaKuchnia="Włoska"}}},[t._v("Włoska ")]),a("b-button",{on:{click:function(e){t.wybranaKuchnia="Chińska"}}},[t._v("Chińska ")]),a("b-button",{on:{click:function(e){t.wybranaKuchnia="Sushi"}}},[t._v("Sushi ")])],1)])]),a("div",{staticClass:"pojemnik"},[a("div",{staticClass:"pojemnikDwa"},t._l(this.$store.state.restauracje.filter(t.kuchniaSel).slice(t.restLimMin,t.restLimMax),(function(e){return a("div",{key:e.id,staticClass:"restauracja"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"logoRestDiv"},[a("b-img",{staticClass:"logoRest",attrs:{src:e.Logo,fluid:""}})],1),a("div",{staticClass:"informacje",staticStyle:{display:"flexbox"}},[a("div",{staticStyle:{width:"100%",height:"30%"},attrs:{id:"wierszP"}},[a("div",{attrs:{id:"nazwaRest"}},[t._v(t._s(e.Nazwa))])]),a("div",{staticStyle:{width:"100%",height:"70%",display:"flex"},attrs:{id:"wierszD"}},[a("div",{staticStyle:{width:"50%",height:"100%",display:"block"},attrs:{id:"kolumnaP"}},[a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"kuchenki"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Kuchnie:")]),t._l(e.Kuchnie,(function(e){return a("span",{key:e,staticClass:"kuchnie",staticStyle:{"font-style":"italic"}},[t._v(" "+t._s(e)+" ")])}))],2),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"restAdresMiasto"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Miasto:")]),a("span",{staticStyle:{"font-style":"italic"},attrs:{id:"itemAdres"}},[t._v(" "+t._s(e.Miasto)+" ")])]),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"restAdresUlica"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Ulica:")]),a("span",{staticStyle:{"font-style":"italic"},attrs:{id:"itemAdres"}},[t._v(" "+t._s(e.Ulica)+" "+t._s(e.NumerLokalu)+" ")])])]),a("div",{staticStyle:{width:"50%",height:"100%",display:"flex"},attrs:{id:"kolumnaD"}},[a("div",{staticStyle:{width:"100%",height:"100%",display:"block",margin:"auto"},attrs:{id:"restOcena"}},[a("div",{staticStyle:{display:"block",width:"100%",height:"fit-content",padding:"0%"}},[t._v(" Ocena społeczności: "),a("div",[a("star-rating",{attrs:{"read-only":!0,inline:!0,"star-size":18,increment:.01,"fixed-points":2,rating:parseFloat(e.Ocena),"inactive-color":"#bbbbbb"}})],1)]),a("div",{staticStyle:{display:"block",width:"100%",height:"fit-content","margin-top":"2%"}},[a("b-button",{attrs:{id:"szczegoly",active:"/restauracja"==t.$route.name},on:{click:function(a){return t.restaurantLink(e)}}},[t._v(" Zobacz więcej ")])],1)])])])])])])})),0)]),a("div",{staticClass:"pojemnik"},[a("div",{staticClass:"stopa",staticStyle:{margin:"auto",width:"100%"}},[a("b-button-group",[t.restLimMax<this.$store.state.restauracje.filter(t.kuchniaSel).length?a("b-button",{attrs:{id:"wiecej"},on:{click:function(e){t.restLimMax+=10}}},[t._v("Wyświetl więcej")]):t._e(),t.restLimMax>11?a("b-button",{attrs:{id:"mniej"},on:{click:function(e){t.restLimMax-=10}}},[t._v("Wyświetl mniej")]):t._e()],1)],1)])])])},J=[],H=(a("caad"),a("2532"),a("d81d"),a("4f60")),Y=(a("1862"),{apiKey:"AIzaSyB7PECrKv0hec-rYEGRZ9pwY2qjD1anjXA",authDomain:"zjadlempl.firebaseapp.com",projectId:"zjadlempl",storageBucket:"zjadlempl.appspot.com",messagingSenderId:"458619606689",appId:"1:458619606689:web:1a0a6f1949fa4e613202e0",measurementId:"G-LJB5883T1H"}),X=H["a"].initializeApp(Y).firestore(),Q=H["a"].firestore;Q.TimeStamp,Q.GeoPoint;X.settings({timestampsInSnapshots:!0});var V,tt=a("5b3d"),et=a.n(tt),at={name:"BrowserData",props:{},components:{StarRating:et.a},data:function(){return{currentRestauracja:"brak",inputRest:"",currentRestauracjaNazwa:"brak",currentRestauracjaMiasto:"brak",currentRestauracjaOcena:"brak",currentRestauracjaLogo:"brak",currentRestauracjaKuchnie:"brak",currentRestauracjaUlica:"brak",currentRestauracjaLokal:"brak",restLimMax:10,restLimMin:0,tak:"",currentRestauracjaAdres:[],currentIndex:-1,liczbaRest:0,kuchnia:null,latOkr:Math.round(1e3*this.$store.state.cords.lat)/1e3,longOkr:Math.round(1e3*this.$store.state.cords.long)/1e3,lat:this.$store.state.cords.lat,long:this.$store.state.cords.long,dystans:[],wybranaKuchnia:"",liczbaFilteredKuchnie:0,ocenaSpolecznosci:[],twojaOcena:0,ocena:9,text:null,dismissSecs:3,dismissCountDown:0,avg:"",komLimMax:2,komLimMin:0,czyAnonim:0}},methods:{kuchniaSel:function(t){return this.liczbaRest=0,""!=this.wybranaKuchnia?t.Kuchnie.includes(this.wybranaKuchnia):t.Kuchnie},setRating:function(t){this.ocena=t,this.$store.state.restSelectedRestOcena=t},ocenienie:function(){this.$store.state.czyAnonim=this.czyAnonim,this.$store.state.restKomentarz=this.text,this.$store.commit("addOcenaRest"),this.dismissCountDown=this.dismissSecs},usunOpinie:function(){console.log("usuwam opinie"),this.$store.commit("remOcenaRest"),this.dismissCountDown=this.dismissSecs},countDownChanged:function(t){this.$store.dispatch("bindOcenaRest"),this.dismissCountDown=t},getDistanceFromLatLonInKm:function(){var t=this.$store.state.cords.lat,e=this.currentRestauracja.Adres._lat,a=this.$store.state.cords.long,i=this.currentRestauracja.Adres._long,n=6371,s=3.14/180*(e-t),o=3.14/180*(i-a),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(3.14/180*t)*Math.cos(3.14/180*e)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),l=n*c;this.dystans=Math.round(this.dystans=100*l)/100},restaurantLink:function(t){this.changeCurrentRestaurant(t),this.$router.push("/restauracja")},changeCurrentRestaurant:function(t){this.ocena=9,window.scrollTo(0,0),this.currentRestauracja=t,this.$store.state.restNazwa=t.Nazwa,this.$store.state.restAdres=t.Adres,this.$store.state.restKuchnie=t.Kuchnie,this.$store.state.restLogo=t.Logo,this.$store.state.restMiasto=t.Miasto,this.$store.state.restNumerLokalu=t.NumerLokalu,this.$store.state.restOceny=t.Oceny,this.$store.state.restUlica=t.Ulica,this.$store.state.restMenu=t.Menu,this.$store.state.restKomentarze=t.Komentarze,this.$store.state.restId=t.id,this.text=null,this.$store.dispatch("bindOcenaRest")},login:function(){this.$auth.loginWithRedirect()}},created:function(){this.$store.dispatch("bindRestauracja"),null!=this.$auth.user.email?this.$store.state.currentUserEmail=this.$auth.user.email:this.$store.state.currentUserEmail=null},computed:{btnStates:function(){return this.buttons.map((function(t){return t.state}))}}},it=at,nt=(a("5af5"),Object(g["a"])(it,G,J,!1,null,null,null)),st=nt.exports,ot={name:"Browser",metaInfo:{title:"Zjadłem.pl | Przeglądaj restauracje"},components:{BrowserData:st},data:function(){return{value:"",context:null,images:{image1:K.a,image2:U.a,image3:N.a,image4:E.a}}},methods:{fetchData:function(){this.$store.state.cords.lat=10}},props:["lat","long"]},rt=ot,ct=(a("7b54"),Object(g["a"])(rt,F,q,!1,null,"0c145ef2",null)),lt=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image2}})],1),a("div",{attrs:{id:"tlo"}},[t.$auth.isAuthenticated?a("div",{staticClass:"menuSmakosza"},[a("h1",[t._v("Twój profil Smakosza")]),a("div",{attrs:{id:"infoProf"}},[a("div",{attrs:{id:"avatarDiv"}},[a("img",{staticClass:"avatar",attrs:{src:t.$auth.user.picture}})]),a("div",{attrs:{id:"infoDiv"}},[a("p",{attrs:{id:"poleMojEmail"}},[t._v("Email: "+t._s(t.$auth.user.email))]),a("p",{attrs:{id:"poleMojNick"}},[t._v("Nick: "+t._s(t.$auth.user.nickname))])])]),a("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[a("b-tab",{attrs:{title:"Oceny"}},[a("h3",[t._v("Moje oceny:")]),a("div",[a("b-table",{staticStyle:{"font-size":"0.8rem"},attrs:{hover:"","sort-icon-right":"",items:this.$store.state.listaOcen,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,responsive:"sm","sticky-header":""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}}})],1),a("div",[t._v(" Sortowanie przez: "),a("b",[t._v(t._s(t.sortBy))]),t._v(", Jak: "),a("b",[t._v(t._s(t.sortDesc?"Malejąco":"Rosnąco"))])])]),a("b-tab",{attrs:{title:"Moje statystyki"}},[a("h3",[t._v("Moje statystyki")]),a("h4",{staticStyle:{"font-style":"italic"}},[t._v("*W budowie*")]),t._l(this.$store.state.listaOcen,(function(t,e){return a("div",{key:e})}))],2),a("b-tab",{attrs:{title:"Moi Znajomi"}},[a("h3",[t._v("Moja lista znajomych")]),a("div",[a("b-table",{attrs:{hover:"","sort-icon-right":"",items:this.$store.state.listaZnaj,responsive:"sm"}})],1)]),a("b-tab",{attrs:{title:"Dodaj znajomego"}},[a("div",{staticClass:"rowek"},[a("p",[t._v(" Jak dodać znajomego? Podaj mu swój adres e-mail oraz prywatny kod znajomego! ")])]),a("div",{staticClass:"panel"},[a("div",{staticClass:"kolumna"},[a("div",[t._v(" Twój kod znajomego: "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.pokaz,expression:"pokaz==true"}],attrs:{id:"twoj_kod_znajomego"}},[a("strong",[t._v(t._s(t.kodUs))])]),a("b-button",{staticStyle:{"margin-left":"2%"},attrs:{pressed:t.pokaz,size:"sm",pill:"",variant:"outline-secondary"},on:{"update:pressed":function(e){t.pokaz=e},click:t.wyswietlKod}},[t._v("Pokaż/ukryj")])],1),a("div",[t.$auth.isAuthenticated?a("b-form",{staticStyle:{"margin-top":"2%",display:"block"},attrs:{id:"zmianaKod"}},[a("div",{staticStyle:{display:"flex"}},[a("p",[t._v("Zmień swój kod:")]),a("b-form-input",{staticStyle:{width:"40%",margin:"2%"},attrs:{id:"textarea_nowyKod",state:t.validation,placeholder:"Wpisz nowy kod",rows:"1",size:"sm","max-rows":"1",required:""},model:{value:t.kodNowy,callback:function(e){t.kodNowy=e},expression:"kodNowy"}})],1),a("b-form-valid-feedback",{attrs:{state:t.validation}},[t.$auth.isAuthenticated?a("b-button",{staticStyle:{margin:"1%"},attrs:{pill:"",variant:"success",size:"sm",id:"button_zmienKod"},on:{click:t.zmienKod}},[t._v("Zmień")]):a("label",{staticStyle:{color:"brown"}},[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{id:"logText"},on:{click:t.login}},[t._v("Zaloguj się")])])],1),a("b-form-invalid-feedback",{attrs:{state:t.validation}},[t._v(" Podaj kod (Minimum 5 znaków, maksimum 20) ")])],1):t._e()],1)]),a("div",{staticClass:"kolumna",staticStyle:{width:"fit-content",margin:"auto","margin-top":"0","text-align":"center"}},[t.$auth.isAuthenticated?a("div",{staticStyle:{margin:"2%"}},[a("b-form-input",{staticStyle:{margin:"3%"},attrs:{id:"textarea_mailKumpla",placeholder:"Wpisz mail znajomego",rows:"1",size:"sm","max-rows":"1"},model:{value:t.mailKumpla,callback:function(e){t.mailKumpla=e},expression:"mailKumpla"}}),a("b-form-input",{staticStyle:{margin:"3%"},attrs:{id:"textarea_kodKumpla",size:"sm",placeholder:"Wpisz kod znajomego",rows:"1","max-rows":"1"},model:{value:t.kodKumpla,callback:function(e){t.kodKumpla=e},expression:"kodKumpla"}})],1):t._e(),a("div",{staticStyle:{margin:"auto","margin-bottom":"2%"},attrs:{id:"przycisk_dodajZnajomego"}},[t.$auth.isAuthenticated?a("b-button",{staticStyle:{margin:"0"},attrs:{pill:"",variant:"outline-secondary",size:"sm"},on:{click:t.dodajKumpla}},[t._v("Dodaj znajomego")]):a("label",{staticStyle:{color:"brown"}},[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{id:"logText"},on:{click:t.login}},[t._v("Zaloguj się")])])],1),"2"==this.$store.state.statusDodania?a("span",{attrs:{id:"dodanie_processing"}},[a("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin","font-scale":"2"}})],1):t._e(),"1"==this.$store.state.statusDodania?a("span",{attrs:{id:"dodanie_success"}},[a("b-iconstack",{attrs:{"font-scale":"2"}},[a("b-icon",{attrs:{stacked:"",icon:"square"}}),a("b-icon",{attrs:{stacked:"",icon:"check"}})],1)],1):t._e(),"0"==this.$store.state.statusDodania?a("span",{attrs:{id:"dodanie_error"}},[a("b-iconstack",{attrs:{"font-scale":"2"}},[a("b-icon",{attrs:{stacked:"",icon:"square"}}),a("b-icon",{attrs:{stacked:"",icon:"x"}})],1)],1):t._e()])])])],1)],1):t._e()])])},ut=[],ht={name:"Profile",metaInfo:{title:"Zjadłem.pl | Profil"},components:{},created:function(){null!=this.$auth.user.email?this.$store.state.currentUserEmail=this.$auth.user.email:this.$store.state.currentUserEmail=null,this.$store.dispatch("bindUserOceny"),this.$store.state.statusDodania="3"},data:function(){return{pokaz:!1,kodUs:"",kodNowy:"",kodKumpla:"",mailKumpla:"",show:!0,sortBy:"Restauracja",sortDesc:!1,images:{image1:K.a,image2:U.a,image3:N.a,image4:E.a},fields:[{key:"Restauracja",sortable:!0},{key:"Potrawa",sortable:!1},{key:"Komentarz",sortable:!1},{key:"Ocena",sortable:!0},{key:"Data",sortable:!0},{key:"Anonim",sortable:!0}]}},methods:{zmienKod:function(){this.$store.state.nowyKod=this.kodNowy,this.$store.dispatch("nowyKodUsera"),this.$store.dispatch("bindUserOceny"),this.pokaz=!1},wyswietlKod:function(){null!=this.$store.state.kodUsera&&""!=this.$store.state.kodUsera?null!=this.$store.state.kodUsera.kodZnajomego&&""!=this.$store.state.kodUsera.kodZnajomego&&(this.kodUs=this.$store.state.kodUsera.kodZnajomego):this.kodUs="Nie posiadasz kodu znajomego, ustaw go poniżej"},dodajKumpla:function(){this.$store.state.statusDodania="2",this.$store.state.currentUserNickname=this.$auth.user.nickname,this.$store.state.kodZnajomego=this.kodKumpla,this.$store.state.emailZnajomego=this.mailKumpla,this.$store.dispatch("dodajKumpla")}},computed:{validation:function(){return this.kodNowy.length>4&&this.kodNowy.length<=20}}},mt=ht,pt=(a("eeaf"),Object(g["a"])(mt,dt,ut,!1,null,"9927e462",null)),gt=pt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"restauracja"}},[a("div",{attrs:{id:"tlo2"}},[a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image2}})],1),a("div",{staticClass:"background",attrs:{id:"backgroundFirst"}},[a("b-img-lazy",{staticClass:"backgroundImage",attrs:{fluid:"",src:t.images.image4}})],1)]),a("div",{attrs:{id:"tlo"}},[""!=this.$store.state.restId?a("div",{attrs:{id:"daneRestauracji"}},[a("div",{staticClass:"restauracjaA",staticStyle:{height:"fit-content"}},[a("div",{staticClass:"flex"},[a("div",{staticClass:"logoRestDiv"},[a("b-img",{staticClass:"logoRest",attrs:{src:this.$store.state.restLogo,fluid:""}})],1),a("div",{staticClass:"informacje",staticStyle:{display:"flexbox",height:"fit-content"}},[a("div",{staticStyle:{width:"100%",height:"10%"},attrs:{id:"wierszP"}},[a("div",{staticStyle:{"font-size":"1rem"},attrs:{id:"nazwaRest"}},[t._v(t._s(this.$store.state.restNazwa))])]),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"flex"},attrs:{id:"wierszD"}},[a("div",{staticStyle:{width:"50%",height:"100%",display:"block"},attrs:{id:"kolumnaP"}},[a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"kuchenki"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Kuchnie:")]),t._l(this.$store.state.restKuchnie,(function(e){return a("span",{key:e,staticClass:"kuchnie",staticStyle:{"font-style":"italic"}},[t._v(" "+t._s(e)+" ")])}))],2),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"restAdresMiasto"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Miasto:")]),a("span",{staticStyle:{"font-style":"italic"},attrs:{id:"itemAdres"}},[t._v(" "+t._s(this.$store.state.restMiasto)+" ")])]),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"inline-block",margin:"0",padding:"0","text-align":"left"},attrs:{id:"restAdresUlica"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("Ulica:")]),a("span",{staticStyle:{"font-style":"italic"},attrs:{id:"itemAdres"}},[t._v(" "+t._s(this.$store.state.restUlica)+" "+t._s(this.$store.state.restNumerLokalu)+" ")])])]),a("div",{staticStyle:{width:"50%",height:"100%",display:"flex"},attrs:{id:"kolumnaD"}},[a("div",{staticStyle:{width:"100%",height:"100%",display:"block",margin:"auto"},attrs:{id:"restOcena"}},[a("div",{staticStyle:{display:"block",width:"100%",height:"fit-content",padding:"0%"}},[t._v(" Ocena społeczności: "),a("div",[a("star-rating",{attrs:{"read-only":!0,inline:!0,"star-size":18,increment:.01,"fixed-points":2,rating:parseFloat(this.$store.state.avgRestOcena),"inactive-color":"#bbbbbb"}})],1)]),t.$auth.isAuthenticated?a("div",{staticStyle:{display:"block",width:"100%",height:"fit-content",padding:"0%"}},[t._v(" Twoja ocena: "),a("div",[a("star-rating",{attrs:{inline:!0,"star-size":18,increment:.5,"fixed-points":2,rating:parseFloat(this.$store.state.restWybranaOcena[0].Ocena),"inactive-color":"#bbbbbb","active-color":"#ffa800"},on:{"rating-selected":t.setRatingRest}})],1)]):t._e()])])]),a("div",{staticStyle:{width:"100%",height:"fit-content",display:"flex"},attrs:{id:"wierszT"}},[a("div",{staticStyle:{display:"block",width:"100%"},attrs:{id:"kolumnaG"}},[t.$auth.isAuthenticated?a("div",{directives:[{name:"show",rawName:"v-show",value:"brak"!=t.currentRestauracja,expression:"currentRestauracja != 'brak' "}],staticStyle:{"margin-top":"2%"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Może chcesz coś o tej restauracji napisać?",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:"brak"!=t.currentRestauracja,expression:"currentRestauracja != 'brak' "}]},[t.$auth.isAuthenticated?a("div",[a("b-form-checkbox",{staticStyle:{margin:"5px"},attrs:{id:"checkbox-1",name:"checkbox-1",value:"1","unchecked-value":"0"},model:{value:t.czyAnonim,callback:function(e){t.czyAnonim=e},expression:"czyAnonim"}},[t._v("   Anonimowa opinia ")])],1):t._e(),t.$auth.isAuthenticated?a("label",{directives:[{name:"show",rawName:"v-show",value:9==t.ocenaRest,expression:"ocenaRest==9"}],staticStyle:{color:"darkred"}},[t._v("Musisz wybrać ocenę żeby móc kontynuować")]):t._e(),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[t.$auth.isAuthenticated?a("b-button",{staticStyle:{margin:"2%"},attrs:{disabled:9==t.ocenaRest,variant:"success"},on:{click:t.ocenienieRest}},[t._v("Oceń")]):a("label",{staticStyle:{color:"brown"}},[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{id:"logText"},on:{click:t.login}},[t._v("Zaloguj się")]),t._v(" aby podzielić się własną opinią!")]),t.$auth.isAuthenticated&&0!=this.$store.state.restWybranaOcena[0]&&this.$store.state.restWybranaOcena[0].Autor==this.$store.state.currentUserEmail?a("b-button",{staticStyle:{margin:"2%"},attrs:{variant:"danger"},on:{click:t.usunOpinieRest}},[t._v("Usuń opinie")]):t._e()],1),a("b-alert",{staticStyle:{padding:"2%","margin-top":"2%"},attrs:{show:t.dismissCountDownRest,fade:"",variant:"success"},on:{"dismiss-count-down":t.countDownChangedRest}},[t._v(" Wykonano pomyślnie! ")])],1),"brak"!=this.$store.state.restWybranaOcena[0].Komentarz&&this.$store.state.restWybranaOcena.length>0!=null?a("div",{directives:[{name:"show",rawName:"v-show",value:"brak"!=t.currentRestauracja,expression:"currentRestauracja != 'brak' "}],staticStyle:{"margin-bottom":"5px","margin-top":"5px","padding-bottom":"5%"},attrs:{id:"kom"}},[a("div",{staticStyle:{"font-weight":"600","text-align":"center",padding:"1%","text-transform":"uppercase"}},[t._v("Twój komentarz")]),a("div",{staticStyle:{"box-shadow":"0px 0px 10px 0px rgba(255, 200, 0, 1)"},attrs:{id:"insKom"}},[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(" "+t._s(this.$store.state.restWybranaOcena[0].Autor)+" "),1==this.$store.state.restWybranaOcena[0].Anonim?a("span",[t._v("(Anonimowa)")]):t._e()]),t._v(" "),a("div",{staticStyle:{width:"25%"}},[t._v("Data: "+t._s(this.$store.state.restWybranaOcena[0].Data))]),a("div",{staticStyle:{width:"19%","text-align":"right"}},[t._v("Ocena: "+t._s(this.$store.state.restWybranaOcena[0].Ocena))])]),a("div",{attrs:{id:"tresc"}},[a("div",[this.$store.state.restWybranaOcena[0].Komentarz?a("div",{staticStyle:{"text-align":"left","font-style":"italic",padding:"2%"}},[t._v(t._s(this.$store.state.restWybranaOcena[0].Komentarz)+" ")]):a("div",{staticStyle:{"text-align":"left",color:"red",padding:"2%"}},[a("i",[t._v("Brak komentarza.")])])])])])]):t._e(),"qqqqqqqxDXSx$qq"!=this.$store.state.restWybranaOcenaSpolecznosci[0].Komentarz&&"brak"!=this.$store.state.restWybranaOcenaSpolecznosci[0].Autor?a("div",{directives:[{name:"show",rawName:"v-show",value:"brak"!=t.currentRestauracja,expression:"currentRestauracja != 'brak' "}],staticStyle:{"margin-bottom":"5px","margin-top":"5px"},attrs:{id:"kom"}},[a("div",{staticStyle:{"font-weight":"600","text-align":"center",padding:"1%","text-transform":"uppercase"}},[t._v("Komentarze społeczności "),a("span",{staticStyle:{"font-family":"arial"}},[t._v(" ("+t._s(this.$store.state.restWybranaOcenaSpolecznosci.length)+")")])]),t._l(this.$store.state.restWybranaOcenaSpolecznosci.slice(t.komLimMin,t.komLimMax),(function(e,i){return a("div",{key:i,staticStyle:{background:"#ededed",padding:"0%",margin:"1%"},attrs:{id:"insKom"}},[""!=e.Komentarz&&null!=e.Komentarz?a("div",[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[0==e.Anonim||null==e.Anonim?a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(t._s(e.Autor))]):a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v("Anonim")]),a("div",{staticStyle:{width:"30%"}},[t._v("Data: "+t._s(e.Data))]),a("div",{staticStyle:{width:"20%","text-align":"right"}},[t._v("Ocena: "+t._s(e.Ocena))])]),a("div",{attrs:{id:"tresc"}},[a("div",{staticStyle:{"text-align":"left","font-style":"italic",padding:"2%"}},[t._v(t._s(e.Komentarz))])])]):a("div",[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[0==e.Anonim||null==e.Anonim?a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(t._s(e.Autor))]):a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v("Anonim")]),a("div",{staticStyle:{width:"30%"}},[t._v("Data: "+t._s(e.Data))]),a("div",{staticStyle:{width:"20%","text-align":"right"}},[t._v("Ocena: "+t._s(e.Ocena))])]),t._m(0,!0)])])})),a("b-button-group",{staticStyle:{padding:"1%","text-align":"center"}},[t.komLimMax<this.$store.state.restWybranaOcenaSpolecznosci.length?a("b-button",{attrs:{id:"wiecej"},on:{click:function(e){t.komLimMax+=5}}},[t._v("Wyświetl więcej")]):t._e(),t.komLimMax>7?a("b-button",{attrs:{id:"mniej"},on:{click:function(e){t.komLimMax-=5}}},[t._v("Wyświetl mniej")]):t._e()],1)],2):a("div",{staticStyle:{"font-weight":"600"}},[t._v("Brak komentarzy społeczności! Bądź pierwszy!")])])])])])]),a("div",{staticClass:"informacjeRest"},[a("div",[a("div",{staticClass:"flex",staticStyle:{"box-shadow":"0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19)"}},[a("div",{staticClass:"menu",staticStyle:{display:"block","text-align":"left",background:"#eeeeee"}},[a("h2",[t._v("Menu:  ")]),t._l(this.$store.state.restMenu,(function(e,i){return a("div",{key:i,staticClass:"kuchnie",staticStyle:{display:"block"},attrs:{id:"menuOpis"},on:{mouseover:function(a){t.changeCurrentDanie(e),t.komLimMax=2}}},[a("div",{attrs:{id:"danie"}},[a("span",{attrs:{id:"id"}},[t._v(t._s(i+1)+".")]),a("span",{attrs:{id:"kat"}},[t._v(" "+t._s(e.Kategoria)+": ")]),a("span",{attrs:{id:"skladniki"}},[t._v(t._s(e.Nazwa)+"  ")])])])}))],2),a("div",{staticClass:"potrawa",staticStyle:{display:"block","text-align":"left"}},[a("div",{attrs:{id:"potrawaIns"}},[a("h2",[t._v("Danie ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],attrs:{id:"ocenaDania"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{color:"brown"},attrs:{id:"kat"}},[t._v(" "+t._s(this.$store.state.restWybranaPotrawaKategoria)+": ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{"font-weight":"600"},attrs:{id:"nazwaPot"}},[t._v("Nazwa: "),a("span",{staticStyle:{"font-weight":"400"}},[t._v(t._s(this.$store.state.restWybranaPotrawaNazwa)+"  ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}]},[a("span",{staticStyle:{"font-weight":"600"}},[t._v("Składniki:  ")]),a("span",{attrs:{id:"skladniki"}},[t._v(t._s(this.$store.state.restWybranaPotrawaSkladniki)+"  ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}]},[t._v("Ocena społeczności:  "),a("star-rating",{attrs:{"read-only":!0,inline:!0,"star-size":16,increment:.01,"fixed-points":2,rating:this.$store.state.avgOcena,"inactive-color":"#bbbbbb"}})],1),t.$auth.isAuthenticated?a("span",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}]},[t._v("Twoja ocena:  "),a("star-rating",{attrs:{inline:!0,"star-size":16,increment:.5,"fixed-points":2,rating:parseInt(this.$store.state.restWybranaPotrawaOcena[0].Ocena),"inactive-color":"#bbbbbb","active-color":"#ffa800"},on:{"rating-selected":t.setRating}})],1):t._e(),t.$auth.isAuthenticated?a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{"margin-top":"2%"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Może chcesz coś o tym daniu napisać?",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}]},[t.$auth.isAuthenticated?a("div",[a("b-form-checkbox",{staticStyle:{margin:"5px"},attrs:{id:"checkbox-2",name:"checkbox-2",value:"1","unchecked-value":"0"},model:{value:t.czyAnonim,callback:function(e){t.czyAnonim=e},expression:"czyAnonim"}},[t._v("   Anonimowa opinia ")])],1):t._e(),t.$auth.isAuthenticated?a("label",{directives:[{name:"show",rawName:"v-show",value:9==t.ocena,expression:"ocena==9"}],staticStyle:{color:"darkred"}},[t._v("Musisz wybrać ocenę żeby móc kontynuować")]):t._e(),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[t.$auth.isAuthenticated?a("b-button",{staticStyle:{margin:"2%"},attrs:{disabled:9==t.ocena,variant:"success"},on:{click:t.ocenienie}},[t._v("Oceń")]):a("label",{staticStyle:{color:"brown"}},[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{id:"logText"},on:{click:t.login}},[t._v("Zaloguj się")]),t._v(" aby podzielić się własną opinią!")]),t.$auth.isAuthenticated&&0!=this.$store.state.restWybranaPotrawaOcena[0]&&this.$store.state.restWybranaPotrawaOcena[0].Autor==this.$store.state.currentUserEmail?a("b-button",{staticStyle:{margin:"2%"},attrs:{variant:"danger"},on:{click:t.usunOpinie}},[t._v("Usuń opinie")]):t._e()],1),a("b-alert",{staticStyle:{padding:"2%","margin-top":"2%"},attrs:{show:t.dismissCountDown,fade:"",variant:"success"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" Wykonano pomyślnie! ")])],1),"brak"!=this.$store.state.restWybranaPotrawaOcena[0].Komentarz&&this.$store.state.restWybranaPotrawaOcena.length>0!=null?a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{"margin-bottom":"5px","margin-top":"5px","padding-bottom":"5%"},attrs:{id:"kom"}},[t._m(1),a("div",{attrs:{id:"insKom"}},[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(" "+t._s(this.$store.state.restWybranaPotrawaOcena[0].Autor)+" "),1==this.$store.state.restWybranaPotrawaOcena[0].Anonim?a("span",[t._v("(Anonimowa)")]):t._e()]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[t._v("Data: "+t._s(this.$store.state.restWybranaPotrawaOcena[0].Data))]),a("div",{staticStyle:{width:"19%","text-align":"right"}},[t._v("Ocena: "+t._s(this.$store.state.restWybranaPotrawaOcena[0].Ocena))])]),a("div",{attrs:{id:"tresc"}},[this.$store.state.restWybranaPotrawaOcena[0].Komentarz?a("div",{staticStyle:{"text-align":"left","font-style":"italic",padding:"2%"}},[t._v(t._s(this.$store.state.restWybranaPotrawaOcena[0].Komentarz)+" ")]):a("div",{staticStyle:{"text-align":"left",color:"red",padding:"2%"}},[a("i",[t._v("Brak komentarza.")])])])])]):t._e(),"qqqqqqqqq"!=this.$store.state.restWybranaPotrawaOcenaSpolecznosci[0].Komentarz&&"brak"!=this.$store.state.restWybranaPotrawaOcenaSpolecznosci[0].Autor?a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{"margin-bottom":"5px","margin-top":"5px","padding-bottom":"5%"},attrs:{id:"kom"}},[a("div",{staticStyle:{"font-weight":"600","text-align":"center",padding:"1%","text-transform":"uppercase"},attrs:{id:"nagg"}},[a("span",[t._v("Komentarze społeczności: ")]),a("span",{staticStyle:{"font-family":"arial"}},[t._v("("+t._s(this.$store.state.restWybranaPotrawaOcenaSpolecznosci.length)+") ")])]),t._l(this.$store.state.restWybranaPotrawaOcenaSpolecznosci.slice(t.komLimMin,t.komLimMax),(function(e,i){return a("div",{key:i,staticStyle:{background:"#ededed",padding:"0%",margin:"1%"},attrs:{id:"insKom"}},[""!=e.Komentarz&&null!=e.Komentarz?a("div",[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[0==e.Anonim||null==e.Anonim?a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(t._s(e.Autor))]):a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v("Anonim")]),a("div",{staticStyle:{width:"30%"}},[t._v("Data: "+t._s(e.Data))]),a("div",{staticStyle:{width:"20%","text-align":"right"}},[t._v("Ocena: "+t._s(e.Ocena))])]),a("div",{attrs:{id:"tresc"}},[a("div",{staticStyle:{"text-align":"left","font-style":"italic",padding:"2%"}},[t._v(t._s(e.Komentarz))])])]):a("div",[a("div",{staticStyle:{padding:"1%","font-weight":"600","justify-content":"space-around",display:"flex"},attrs:{id:"komTekst"}},[0==e.Anonim||null==e.Anonim?a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(t._s(e.Autor))]):a("div",{staticStyle:{"text-align":"left",width:"50%"}},[t._v("Anonim")]),a("div",{staticStyle:{width:"30%"}},[t._v("Data: "+t._s(e.Data))]),a("div",{staticStyle:{width:"20%","text-align":"right"}},[t._v("Ocena: "+t._s(e.Ocena))])]),t._m(2,!0)])])})),a("b-button-group",{staticStyle:{"padding-top":"1%","text-align":"center !important",display:"block"}},[t.komLimMax<this.$store.state.restWybranaPotrawaOcenaSpolecznosci.length?a("b-button",{attrs:{id:"wiecej"},on:{click:function(e){t.komLimMax+=5}}},[t._v("Wyświetl więcej")]):t._e(),t.komLimMax>7?a("b-button",{attrs:{id:"mniej"},on:{click:function(e){t.komLimMax-=5}}},[t._v("Wyświetl mniej")]):t._e()],1)],2):a("div",{staticStyle:{"font-weight":"600"}},[t._v("Brak komentarzy społeczności! Bądź pierwszy!")])])])])])])]):a("div",{on:{mouseover:t.goHome}},[t._v("Brak strony")])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tresc"}},[a("div",{staticStyle:{"text-align":"left",color:"red",padding:"2%"}},[a("i",[t._v("Brak komentarza.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-weight":"600","text-align":"center",padding:"1%"}},[a("div",{staticStyle:{"text-transform":"uppercase"}},[t._v("Twój komentarz:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tresc"}},[a("div",{staticStyle:{"text-align":"left",color:"red",padding:"2%"}},[a("i",[t._v("Brak komentarza.")])])])}],bt={name:"Restauracja",metaInfo:{title:"Zjadłem.pl | Restauracja"},components:{StarRating:et.a},data:function(){return{images:{image1:K.a,image2:U.a,image3:N.a,image4:E.a},ocena:9,ocenaRest:9,ocenaSpolecznosci:[],wybraneDanie:"",twojaOcena:0,dismissSecs:3,dismissSecsRest:3,dismissCountDown:0,dismissCountDownRest:0,text:null,avg:"",komLimMax:2,komLimMin:0,czyAnonim:0,usuniete:0}},created:function(){this.$store.dispatch("bindOcenaRest"),this.$store.dispatch("bindOcenaRest"),this.$store.dispatch("bindMenu")},methods:{login:function(){this.$auth.loginWithRedirect()},calculateOcena:function(){for(var t=0,e=0;e<this.ocenaSpolecznosci.length;e++)t+=parseInt(this.ocenaSpolecznosci[e].Ocena,10);var a=t/this.ocenaSpolecznosci.length;this.avg=a},setRating:function(t){this.ocena=t,this.$store.state.restSelectedOcena=t},setRatingRest:function(t){this.ocenaRest=t,this.$store.state.restSelectedRestOcena=t},changeCurrentDanie:function(t){this.wybraneDanie=t.id,this.$store.state.restWybranaPotrawaId=t.id,this.$store.state.restWybranaPotrawaKategoria=t.Kategoria,this.$store.state.restWybranaPotrawaNazwa=t.Nazwa,null!=t.Skladniki?this.$store.state.restWybranaPotrawaSkladniki=t.Skladniki:this.$store.state.restWybranaPotrawaSkladniki="Brak danych od restauracji",this.ocena=9,this.$store.dispatch("bindOcena")},ocenienie:function(){this.$store.state.czyAnonim=this.czyAnonim,this.$store.state.danieKomentarz=this.text,this.$store.dispatch("bindOcenaAdd"),this.$store.dispatch("bindOcena"),this.dismissCountDown=this.dismissSecs},ocenienieRest:function(){this.$store.state.czyAnonim=this.czyAnonim,this.$store.state.restKomentarz=this.text,this.$store.commit("addOcenaRest"),this.dismissCountDownRest=this.dismissSecs},usunOpinie:function(){console.log("usuwam opinie"),this.usuniete,this.$store.dispatch("bindOcenaRem"),this.$store.dispatch("bindOcena"),this.dismissCountDown=this.dismissSecs},usunOpinieRest:function(){console.log("usuwam opinie"),this.$store.commit("remOcenaRest"),this.dismissCountDownRest=this.dismissSecs},countDownChanged:function(t){this.$store.dispatch("bindOcena"),this.dismissCountDown=t},countDownChangedRest:function(t){this.$store.dispatch("bindOcenaRest"),this.dismissCountDownRest=t}},computed:{komState:function(){return this.text.length>10}}},yt=bt,wt=(a("6aef"),Object(g["a"])(yt,vt,ft,!1,null,"403b5b8f",null)),kt=wt.exports,_t=a("5530"),St=a("1da1"),jt=a("15fd"),Ot=(a("ac1f"),a("841c"),a("96cf"),a("9767")),xt=["onRedirectCallback","redirectUri"],zt=function(){return window.history.replaceState({},document.title,window.location.pathname)},$t=function(){return V},Rt=function(t){var e=t.onRedirectCallback,a=void 0===e?zt:e,n=t.redirectUri,s=void 0===n?window.location.origin:n,o=Object(jt["a"])(t,xt);return V||(V=new i["default"]({data:function(){return{loading:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(t,e){var a=this;return Object(St["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.popupOpen=!0,i.prev=1,i.next=4,a.auth0Client.loginWithPopup(t,e);case 4:return i.next=6,a.auth0Client.getUser();case 6:return a.user=i.sent,i.next=9,a.auth0Client.isAuthenticated();case 9:a.isAuthenticated=i.sent,a.error=null,i.next=17;break;case 13:i.prev=13,i.t0=i["catch"](1),a.error=i.t0,console.error(i.t0);case 17:return i.prev=17,a.popupOpen=!1,i.finish(17);case 20:return i.next=22,a.auth0Client.getUser();case 22:a.user=i.sent,a.isAuthenticated=!0;case 24:case"end":return i.stop()}}),i,null,[[1,13,17,20]])})))()},handleRedirectCallback:function(){var t=this;return Object(St["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.auth0Client.handleRedirectCallback();case 4:return e.next=6,t.auth0Client.getUser();case 6:t.user=e.sent,t.isAuthenticated=!0,t.error=null,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.error=e.t0;case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()},loginWithRedirect:function(t){return this.auth0Client.loginWithRedirect(t)},getIdTokenClaims:function(t){return this.auth0Client.getIdTokenClaims(t)},getTokenSilently:function(t){return this.auth0Client.getTokenSilently(t)},getTokenWithPopup:function(t){return this.auth0Client.getTokenWithPopup(t)},logout:function(t){return this.auth0Client.logout(t)}},created:function(){var t=this;return Object(St["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ot["a"])(Object(_t["a"])(Object(_t["a"])({},o),{},{client_id:o.clientId,redirect_uri:s}));case 2:if(t.auth0Client=e.sent,e.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=11;break}return e.next=7,t.auth0Client.handleRedirectCallback();case 7:i=e.sent,n=i.appState,t.error=null,a(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),t.error=e.t0;case 16:return e.prev=16,e.next=19,t.auth0Client.isAuthenticated();case 19:return t.isAuthenticated=e.sent,e.next=22,t.auth0Client.getUser();case 22:return t.user=e.sent,t.loading=!1,e.finish(16);case 25:case"end":return e.stop()}}),e,null,[[3,13,16,25]])})))()}}),V)},Dt={install:function(t,e){t.prototype.$auth=Rt(e)}},Ct=function(t,e,a){var i=$t(),n=function(){if(i.isAuthenticated)return a();i.loginWithRedirect({appState:{targetUrl:t.fullPath}})};if(!i.loading)return n();i.$watch("loading",(function(t){if(!1===t)return n()}))};i["default"].use(D["a"]);var At=[{path:"/",name:"Home_new",component:Z},{path:"/Browser",name:"Browser",component:lt},{path:"/about",name:"About",component:function(){return a.e("chunk-4dffa580").then(a.bind(null,"f820"))}},{path:"/profile",name:"profile",component:gt,beforeEnter:Ct},{path:"/restauracja",name:"restauracja",component:kt}],Pt=new D["a"]({mode:"history",base:"/",routes:At}),Kt=Pt,Mt=a("cca8"),Ut=a("5f5b"),Wt=a("b1e0"),Nt=a("f9bc"),Tt=(a("f9e3"),a("2dd8"),a("2f62")),Et=a("3317");i["default"].use(Tt["a"]);var Lt=new Tt["a"].Store({state:{events:[],cords:{lat:"",long:""},restCords:{lat:"",long:""},allowedCords:!1,miasto:"",restauracje:[],restauracjeBeta:[],todos:[],error:"",id:null,nazwa:"a",loginMenu:!1,searchPhrase:"",kuchnia:null,user:{loggedIn:!1,data:null},restId:"",restNazwa:"",restAdres:"",restKuchnie:[],restLogo:"",restMiasto:"",restNumerLokalu:"",restOceny:[],restUlica:"",restMenu:[],restKomentarze:[],restWybranaPotrawaId:"",restWybranaPotrawaKategoria:"",restWybranaPotrawaNazwa:"",restWybranaPotrawaSkladniki:"",restWybranaPotrawaOcena:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restWybranaPotrawaOcenaSpolecznosci:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restWybranaOcena:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restWybranaOcenaSpolecznosci:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restSelectedOcena:"",restSelectedRestOcena:"",danieKomentarz:"",restKomentarz:"",currentUserEmail:"",currentUserNickname:"",danieId:"",avgOcena:0,avgRestOcena:0,wybranaKuchnia:"",listaZnaj:[],listaOcen:[],listaOcenDan:[],listaWszystkichOcen:[],nowyKod:"",kodUsera:[{kodZnajomego:"xD"}],kodZnajomego:"ehehhe",emailZnajomego:"",nicknameZnajomego:"",statusDodania:"3",czyAnonim:0,restLimit:2,randomRest:[{Restauracja:"",Menu:"",Oceny:""}]},getters:{user:function(t){return t.user}},mutations:Object(_t["a"])(Object(_t["a"])({},Et["b"]),{},{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e},addOcenaDania:Object(Et["a"])((function(t){var e=t.restId,a=t.restNazwa,i=t.restWybranaPotrawaId,n=t.restWybranaPotrawaNazwa,s=t.restSelectedOcena,o=t.currentUserEmail,r=t.danieKomentarz,c=t.czyAnonim,l=new Date,d=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate(),u=X.collection("Restauracje").doc(e).collection("Menu").doc(i).collection("Oceny"),h=X.collection("Restauracje").doc(e).collection("Menu").doc(i).collection("Oceny").where("Autor","==",t.currentUserEmail),m=X.collection("Users").doc(o).collection("Oceny"),p=X.collection("Users").doc(o).collection("Oceny").where("ID","==",i);h.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?(u.doc(t.docs[0].id).delete(),u.add({Ocena:s,Autor:o,Komentarz:r,Data:d,Anonim:c})):u.add({Ocena:s,Autor:o,Komentarz:r,Data:d,Anonim:c})})),p.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?(m.doc(t.docs[0].id).delete(),m.add({ID:i,Restauracja:a,Ocena:s,Komentarz:r,Data:d,Potrawa:n,Anonim:c})):m.add({ID:i,Restauracja:a,Ocena:s,Komentarz:r,Data:d,Potrawa:n,Anonim:c})}))})),remOcenaDania:Object(Et["a"])((function(t){var e=t.restId,a=t.restWybranaPotrawaId,i=t.currentUserEmail,n=X.collection("Restauracje").doc(e).collection("Menu").doc(a).collection("Oceny"),s=X.collection("Restauracje").doc(e).collection("Menu").doc(a).collection("Oceny").where("Autor","==",t.currentUserEmail),o=X.collection("Users").doc(i).collection("Oceny"),r=X.collection("Users").doc(i).collection("Oceny").where("ID","==",a);s.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length&&n.doc(t.docs[0].id).delete()})),r.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length&&o.doc(t.docs[0].id).delete()}))})),addOcenaRest:Object(Et["a"])((function(t){var e=t.restId,a=t.restNazwa,i=t.restSelectedRestOcena,n=t.currentUserEmail,s=t.restKomentarz,o=t.czyAnonim,r=new Date,c=t.avgRestOcena,l=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),d=X.collection("Restauracje").doc(e),u=X.collection("Restauracje").doc(e).collection("Oceny"),h=X.collection("Restauracje").doc(e).collection("Oceny").where("Autor","==",t.currentUserEmail),m=X.collection("Users").doc(n).collection("Oceny"),p=X.collection("Users").doc(n).collection("Oceny").where("ID","==",e);h.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?(u.doc(t.docs[0].id).delete(),u.add({Ocena:i,Autor:n,Komentarz:s,Data:l,Anonim:o})):u.add({Ocena:i,Autor:n,Komentarz:s,Data:l,Anonim:o}),d.update({Ocena:c})})),p.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?(m.doc(t.docs[0].id).delete(),m.doc(a).set({Restauracja:a,Ocena:i,Komentarz:s,Data:l,ID:e,Anonim:o,Potrawa:"N/d"})):m.doc(a).set({Restauracja:a,Ocena:i,Komentarz:s,Data:l,ID:e,Anonim:o,Potrawa:"N/d"})}))})),remOcenaRest:Object(Et["a"])((function(t){var e=t.restId,a=t.currentUserEmail,i=X.collection("Restauracje").doc(e).collection("Oceny"),n=X.collection("Restauracje").doc(e).collection("Oceny").where("Autor","==",t.currentUserEmail),s=X.collection("Users").doc(a).collection("Oceny"),o=X.collection("Users").doc(a).collection("Oceny").where("ID","==",e);n.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length&&i.doc(t.docs[0].id).delete()})),o.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length&&s.doc(t.docs[0].id).delete()}))})),changeFriendCode:Object(Et["a"])((function(t){var e=t.currentUserEmail,a=t.nowyKod,i=X.collection("Users").doc(e);i.set({kodZnajomego:a,nickname:t.currentUserNickname,email:t.currentUserEmail})})),addNewFriend:Object(Et["a"])((function(t){var e=t.currentUserEmail,a=X.collection("Users").doc(e).collection("Znajomi"),i=X.collection("Users").doc(t.emailZnajomego).collection("Znajomi");a.doc(t.emailZnajomego).set({emailZnajomego:t.emailZnajomego}),i.doc(t.currentUserEmail).set({emailZnajomego:t.currentUserEmail})}))}),modules:{},actions:{bindRestauracja:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i=a.miasto,n="restauracje";a.restauracje=[];var s="Restauracje",o="==",r="Miasto";return""!=i?e(n,X.collection(s).orderBy("Nazwa").where(r,o,i)):e("restauracje",X.collection("Restauracje").orderBy("Nazwa"))})),bindRestauracjaSearch:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i="restauracje";a.restauracje=[];var n="Restauracje",s=a.searchPhrase.toUpperCase();return""!=s?e(i,X.collection(n).orderBy("Nazwa").where("Nazwa",">=",s).where("Nazwa","<=",s+"")):e("restauracje",X.collection("Restauracje").orderBy("Nazwa"))})),readOcenaDaniaBetaDwa:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i=a.restId,n=a.restWybranaPotrawaId,s=X.collection("Restauracje").doc(i).collection("Menu").doc(n).collection("Oceny").where("Autor","==",a.currentUserEmail),o=X.collection("Restauracje").doc(i).collection("Menu").doc(n).collection("Oceny");s.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?e("restWybranaPotrawaOcena",s):a.restWybranaPotrawaOcena=[{Autor:"brak",Ocena:"0",Komentarz:"brak"}]})),o.get().then((function(t){var i=t.docs.map((function(t){return t.data()}));if(0!=t.docs.length){e("restWybranaPotrawaOcenaSpolecznosci",o);for(var n=0,s=0,r=0;r<i.length;r++)0<=parseFloat(i[r].Ocena)<=5&&0==isNaN(i[r].Ocena)&&(n+=i[r].Ocena,s+=1);var c=n/s;a.avgOcena=c}else c=0,a.avgOcena=c,a.restWybranaPotrawaOcenaSpolecznosci=[{Autor:"brak",Ocena:"0",Komentarz:""}]}))})),readOcenaRestBetaDwa:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i=a.restId,n=a.avgRestOcena,s=X.collection("Restauracje").doc(i),o=X.collection("Restauracje").doc(i).collection("Oceny").where("Autor","==",a.currentUserEmail),r=X.collection("Restauracje").doc(i).collection("Oceny");o&&o.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?e("restWybranaOcena",o):a.restWybranaOcena=[{Autor:"brak",Ocena:"0",Komentarz:"brak"}]})),r.get().then((function(t){var i=t.docs.map((function(t){return t.data()}));if(0!=t.docs.length){e("restWybranaOcenaSpolecznosci",r);for(var o=0,c=0;c<i.length;c++)o+=i[c].Ocena;var l=o/i.length;a.avgRestOcena=l,e("avgRestOcena",l)}else l=0,a.avgRestOcena=l,a.restWybranaOcenaSpolecznosci=[{Autor:"brak",Ocena:"0",Komentarz:"brak"}];s.update({Ocena:n})}))})),bindOcena:function(t){t.state;var e=t.dispatch;e("readOcenaDaniaBetaDwa")},nowyKodUsera:function(t){t.state;var e=t.commit;e("changeFriendCode")},bindOcenaAdd:function(t){var e=t.state,a=t.dispatch,i=t.commit;console.log(e.avgOcena),i("addOcenaDania"),a("readOcenaDaniaBetaDwa"),console.log(e.avgOcena)},bindOcenaRem:function(t){t.state;var e=t.dispatch,a=t.commit;a("remOcenaDania"),e("readOcenaDaniaBetaDwa")},bindOcenaRest:function(t){t.state;var e=t.dispatch;e("readOcenaRestBetaDwa")},bindMenu:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i="restMenu",n="restOceny",s="Restauracje",o=a.restId,r=a.avgRestOcena,c=X.collection("Restauracje").doc(o);""!=o&&(e(i,X.collection(s).doc(o).collection("Menu")),e(n,X.collection(s).doc(o).collection("Menu").doc(a.restMenu[0]).collection("Oceny"))),console.log(a.restOceny),c.update({Ocena:r})})),bindRandomRestauracja:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i="randRest.Restauracja",n="Restauracje",s=1;""!=s&&e(i,X.collection(n).doc("1wVNqruyQnztG5PplLXH")),console.log(a.randomRest),console.log("xD1")})),bindUserOceny:Object(Et["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,i="listaOcen";e(i,X.collection("Users").doc(a.currentUserEmail).collection("Oceny"));var n="listaOcenDan";e(n,X.collection("Users").doc(a.currentUserEmail).collection("OcenyDan"));var s="listaZnaj";e(s,X.collection("Users").doc(a.currentUserEmail).collection("Znajomi"));var o="kodUsera";e(o,X.collection("Users").doc(a.currentUserEmail))})),dodajKumpla:Object(Et["a"])((function(t){var e=t.state,a=t.commit;console.log("poczatek");var i=e.kodZnajomego,n=e.emailZnajomego;if(console.log(i),console.log(n),console.log(e.emailZnajomego),console.log("start2"),n!=e.currentUserEmail){var s=X.collection("Users").where("email","==",n);s.get().then((function(t){var n=t.docs.map((function(t){return t.data()}));0!=t.docs.length?n[0].kodZnajomego==i?(console.log("kod poprawny"),a("addNewFriend"),e.statusDodania="1"):(console.log("error"),e.statusDodania="0"):(console.log("error2"),e.statusDodania="0")}))}else console.log("error3"),e.statusDodania="0"})),fetchUser:function(t,e){var a=t.commit;a("SET_LOGGED_IN",null!==e),a("SET_USER",e?{displayName:e.displayName,email:e.email}:null)}}}),It=a("58ca"),Bt=a("8160");a("4cd1");i["default"].use(Dt,{domain:Bt["b"],clientId:Bt["a"],onRedirectCallback:function(t){Kt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),i["default"].config.productionTip=!1,i["default"].use(Mt["a"]),i["default"].use(It["a"]),i["default"].use(Ut["a"]),i["default"].use(Wt["a"]),i["default"].use(Nt["a"]),new i["default"]({router:Kt,store:Lt,render:function(t){return t(R)}}).$mount("#app")},"5af5":function(t,e,a){"use strict";a("1ebe")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"6aef":function(t,e,a){"use strict";a("8a88")},"7b54":function(t,e,a){"use strict";a("2f83")},"7d9a":function(t,e,a){},8160:function(t){t.exports=JSON.parse('{"b":"zjadlempl.eu.auth0.com","a":"fd6YiIlIluzEdfeIN5diqgPpBwxaaeRc"}')},"8a88":function(t,e,a){},"8e76":function(t,e,a){t.exports=a.p+"img/background1.e8d1f565.jpeg"},"9a0c":function(t,e,a){},"9c0c":function(t,e,a){},"9c61":function(t,e,a){"use strict";a("32d4")},bac5:function(t,e,a){"use strict";a("41bf")},c8cc:function(t,e,a){t.exports=a.p+"img/background3.14df76ee.jpeg"},cf05:function(t,e,a){t.exports=a.p+"img/logo.b2b3a909.png"},e6fc:function(t,e,a){"use strict";a("9a0c")},eac6:function(t,e,a){t.exports=a.p+"img/background2.4892f9d9.jpeg"},eeaf:function(t,e,a){"use strict";a("7d9a")}});
//# sourceMappingURL=app.bbdd674d.js.map