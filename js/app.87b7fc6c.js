(function(t){function e(e){for(var r,n,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)n=o[l],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},s={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-4dffa580":"ea6256c1"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-4dffa580":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({}[t]||t)+"."+{"chunk-4dffa580":"6be961fd"}[t]+".css",s=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[t],f.parentNode.removeChild(f),a(i)},f.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){n[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,a){r=s[t]=[e,a]}));e.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=s[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}s[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1cc7":function(t,e,a){},"1ebe":function(t,e,a){},"331d":function(t,e,a){"use strict";a("4747")},"419f":function(t,e,a){},4747:function(t,e,a){},"47a8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-card",{staticClass:"theCard",attrs:{"no-body":""}},[a("div",{staticClass:"butoSidebar"},[a("Sidebar")],1),t.$auth.isAuthenticated?a("div",{staticClass:"butoSidebarRight",attrs:{to:"/profile",active:"/profile"==t.$route.name},on:{click:t.profileLink}},[a("ProfileButton")],1):t._e(),a("b-card-body",{staticClass:"text-center interior"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sidebar"}},[r("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"butoSidebar invert",attrs:{icon:"justify","font-scale":"2"}}),r("b-sidebar",{attrs:{id:"sidebar-backdrop",backdrop:"","no-header":"",shadow:""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"sideber"},[r("div",{staticClass:"but"},[r("div",{attrs:{id:"logo"}},[r("img",{attrs:{src:a("cf05"),alt:"Responsive image"}})]),r("b-button",{staticClass:"tabButton",attrs:{to:"/#/",active:"/#/"==t.$route.name}},[t._v(" Home ")]),r("b-button",{staticClass:"tabButton",attrs:{to:"/Browser",active:"/Browser"==t.$route.name}},[t._v(" Restauracje ")]),t.$auth.isAuthenticated?r("b-button",{staticClass:"tabButton",attrs:{to:"/profile",active:"/profile"==t.$route.name}},[t._v(" Profil ")]):t._e(),r("b-button",{staticClass:"tabButton",attrs:{to:"/About",active:"About"==t.$route.name}},[t._v(" O nas ")])],1)])]}},{key:"footer",fn:function(e){var a=e.hide;return[t.$auth.loading?t._e():r("div",{staticClass:"sideber but footerEl"},[t.$auth.isAuthenticated?t._e():r("b-button",{staticClass:"tabButton footerEl boldGreen",attrs:{id:"login"},on:{click:t.login}},[t._v("Log in")]),t.$auth.isAuthenticated?r("b-button",{staticClass:"tabButton footerEl bold",attrs:{id:"logout"},on:{click:t.logout}},[t._v("Log out")]):t._e()],1),r("b-button",{staticClass:"tabButton but bold footerEl",on:{click:a}},[r("b-icon",{staticStyle:{fill:"#ff2244",filter:"none"},attrs:{icon:"x-circle",variant:"danger","font-scale":"2","shift-v":"-0.25"}})],1)]}}])})],1)},o=[],c={name:"Sidebar",props:{},methods:{login:function(){this.$auth.loginWithRedirect()},logout:function(){this.$auth.logout({returnTo:window.location.origin})}}},u=c,l=(a("9ff1"),a("2877")),d=Object(l["a"])(u,i,o,!1,null,"6daad6d2",null),f=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sidebar"}},[a("div",{attrs:{id:"avatarDiv"}},[a("img",{staticClass:"avatar",attrs:{src:t.$auth.user.picture}})])])},p=[],m={name:"ProfileButton",props:{},methods:{}},b=m,v=(a("9d7a"),Object(l["a"])(b,h,p,!1,null,"3669d445",null)),g=v.exports,w={components:{Sidebar:f,ProfileButton:g},methods:{profileLink:function(){this.$router.push("/profile")}}},k=w,_=(a("5c0b"),Object(l["a"])(k,n,s,!1,null,null,null)),j=_.exports,y=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{attrs:{id:"tlo"}},[t._m(0),a("user-location")],1)])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"naglow"}},[a("h1",{attrs:{id:"hello"}},[t._v("Wyszukaj restauracje w której jadłeś: ")])])}],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"poleWyszukiwania"}},[a("router-link",{attrs:{to:"/Browser",active:"Browser"==t.$route.name}},[a("b-list-group",{attrs:{horizontal:""}},[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",on:{click:function(e){return t.miastoSelection("Gdańsk")}}},[t._v(" Gdańsk ")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",on:{click:function(e){return t.miastoSelection("Gdynia")}}},[t._v(" Gdynia ")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",on:{click:function(e){return t.miastoSelection("Sopot")}}},[t._v(" Sopot ")])],1)],1),a("div",{attrs:{id:"przyciski"}},[a("div",{attrs:{id:"gpsLoc"}},[a("router-link",{attrs:{to:"/Browser",active:"Browser"==t.$route.name}},[a("b-icon",{attrs:{icon:"geo-alt-fill"},on:{click:function(e){t.locatorButtonPressed(),t.miastoSelection("")}}})],1)],1)])],1)},x=[],R={name:"UserLocation",props:{},data:function(){return{address:"",lat:"",long:"",city:"",sizes:["Śmidowicza","Świętojańska","Gdańska","Młodego G"]}},methods:{locatorButtonPressed:function(){var t=this;this.$store.state.allowedCords=!0,navigator.geolocation.getCurrentPosition((function(e){t.lat=e.coords.latitude,t.long=e.coords.longitude,t.$store.state.cords.lat=t.lat,t.$store.state.cords.long=t.long}))},miastoSelection:function(t){this.$store.state.miasto=t}}},S=R,z=(a("8d22"),Object(l["a"])(S,O,x,!1,null,null,null)),M=z.exports,A={name:"Home",metaInfo:{title:"Zjadłem.pl | Podziel się swoją opinią!"},components:{UserLocation:M},data:function(){return{text:"",long:"",lat:""}},methods:{}},L=A,P=(a("b88b"),Object(l["a"])(L,C,$,!1,null,"64ff4bd2",null)),E=P.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser"},[a("div",{attrs:{id:"tlo"}},[a("naglowek",{attrs:{text:"ZJADŁEM.PL | WYSZUKIWARKA RESTAURACJI"}}),a("BrowserData")],1)])},I=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"browserData"}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"tytul"},[a("div",{attrs:{id:"gornaLinia"}},[a("div",[a("h2",[t._v(" Znaleziono "+t._s(this.$store.state.restauracje.length)+" Restauracji "),""!=this.$store.state.miasto?a("span",[t._v(" w "+t._s(this.$store.state.miasto)+" ")]):t._e()])]),""!=this.$store.state.cords.lat?a("div",{attrs:{id:"cords"}},[a("h2",[t._v(" Twoja lokalizacja: "),a("i",[t._v(" "+t._s(this.$store.state.cords.lat)+"E "+t._s(this.$store.state.cords.long)+"N")])])]):a("div",[1==this.$store.state.allowedCords?a("div",[a("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin","font-scale":"2"}})],1):a("div",[t._v("Brak dostępu do lokalizacji")])])]),a("div",{attrs:{id:"dolnaLinia"}},[a("label",[t._v("Ilość wyświetlanych restauracji: "+t._s(t.restLimMax)+" ")])])]),a("div",{staticClass:"pojemnik"},[a("div",{staticClass:"pojemnikDwa"},t._l(this.$store.state.restauracje.slice(t.restLimMin,t.restLimMax),(function(e){return a("div",{key:e.id,staticClass:"restauracja",on:{mouseover:function(a){t.changeCurrentRestaurant(e),t.getDistanceFromLatLonInKm()}}},[a("div",{staticClass:"logoRestDiv"},[a("b-img",{staticClass:"logoRest",attrs:{src:e.Logo,fluid:""}})],1),a("div",{staticClass:"informacje"},[a("div",[t._v(t._s(e.Nazwa))]),t._l(e.Kuchnie,(function(e){return a("span",{key:e,staticClass:"kuchnie"},[t._v(" "+t._s(e)+" ")])}))],2)])})),0),a("div",{staticClass:"pojemnikDwa"},["brak"!=t.currentRestauracja?a("div",{staticClass:"informacjeRest"},[a("div",[a("p",{attrs:{id:"nazwaRest"}},[t._v(t._s(this.$store.state.restNazwa)+" ")]),a("div",{staticClass:"logoRestDivInfo"},[a("b-img",{staticClass:"logoRest",attrs:{src:this.$store.state.restLogo,fluid:""}})],1),""!=this.$store.state.cords.lat?a("p",{staticClass:"numbers"},[t._v("Odległość: "+t._s(t.dystans)+"km")]):t._e(),a("div",{staticClass:"flex"},[t._v(" Kuchnia:   "),t._l(this.$store.state.restKuchnie,(function(e){return a("span",{key:e,staticClass:"kuchnie",attrs:{id:"kuchOpis"}},[t._v(" "+t._s(e)),t.currentRestauracjaKuchnie.length>1?a("span",[t._v(",  ")]):t._e()])}))],2),a("div",{staticClass:"flex"},[t._v(" Miasto:  "),a("div",[t._v(t._s(this.$store.state.restMiasto))])]),a("div",{staticClass:"flex"},[t._v(" Ulica:  "),a("div",[t._v(t._s(this.$store.state.restUlica)+" "+t._s(this.$store.state.restNumerLokalu))])]),a("div",{staticClass:"flex"},[a("b-button",{attrs:{id:"szczegoly",active:"/restauracja"==t.$route.name},on:{click:t.restaurantLink}},[t._v(" Zobacz więcej")])],1)])]):t._e()])]),a("div",{staticClass:"pojemnik"},[a("div",{staticClass:"stopa"},[a("div",{attrs:{id:"lewo"}},[a("b-button-group",[t.restLimMax<this.$store.state.restauracje.length?a("b-button",{attrs:{id:"wiecej"},on:{click:function(e){t.restLimMax+=10}}},[t._v("Wyświetl więcej")]):t._e(),t.restLimMax>11?a("b-button",{attrs:{id:"mniej"},on:{click:function(e){t.restLimMax-=10}}},[t._v("Wyświetl mniej")]):t._e()],1)],1),a("div",{attrs:{id:"prawo"}})])])])])},N=[],K=(a("d81d"),a("4f60")),W=(a("1862"),{apiKey:"AIzaSyB7PECrKv0hec-rYEGRZ9pwY2qjD1anjXA",authDomain:"zjadlempl.firebaseapp.com",projectId:"zjadlempl",storageBucket:"zjadlempl.appspot.com",messagingSenderId:"458619606689",appId:"1:458619606689:web:1a0a6f1949fa4e613202e0",measurementId:"G-LJB5883T1H"}),U=K["a"].initializeApp(W).firestore(),T=K["a"].firestore;T.TimeStamp,T.GeoPoint;U.settings({timestampsInSnapshots:!0});var G,Z={name:"BrowserData",props:{},data:function(){return{currentRestauracja:"brak",currentRestauracjaNazwa:"brak",currentRestauracjaMiasto:"brak",currentRestauracjaOcena:"brak",currentRestauracjaLogo:"brak",currentRestauracjaKuchnie:"brak",currentRestauracjaUlica:"brak",currentRestauracjaLokal:"brak",restLimMax:10,restLimMin:0,currentRestauracjaAdres:[],currentIndex:-1,kuchnia:null,latOkr:Math.round(1e3*this.$store.state.cords.lat)/1e3,longOkr:Math.round(1e3*this.$store.state.cords.long)/1e3,lat:this.$store.state.cords.lat,long:this.$store.state.cords.long,dystans:[]}},methods:{getDistanceFromLatLonInKm:function(){var t=this.$store.state.cords.lat,e=this.currentRestauracja.Adres._lat,a=this.$store.state.cords.long,r=this.currentRestauracja.Adres._long,n=6371,s=3.14/180*(e-t),i=3.14/180*(r-a),o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(3.14/180*t)*Math.cos(3.14/180*e)*Math.sin(i/2)*Math.sin(i/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),u=n*c;this.dystans=Math.round(this.dystans=100*u)/100},restaurantLink:function(){this.$router.push("/restauracja")},changeCurrentRestaurant:function(t){this.currentRestauracja=t,this.$store.state.restNazwa=t.Nazwa,this.$store.state.restAdres=t.Adres,this.$store.state.restKuchnie=t.Kuchnie,this.$store.state.restLogo=t.Logo,this.$store.state.restMiasto=t.Miasto,this.$store.state.restNumerLokalu=t.NumerLokalu,this.$store.state.restOceny=t.Oceny,this.$store.state.restUlica=t.Ulica,this.$store.state.restMenu=t.Menu,this.$store.state.restKomentarze=t.Komentarze,this.$store.state.restId=t.id}},created:function(){this.$store.dispatch("bindRestauracja")},computed:{btnStates:function(){return this.buttonsLims.map((function(t){return t.state}))}}},J=Z,H=(a("5af5"),Object(l["a"])(J,B,N,!1,null,null,null)),F=H.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"justify-content":"space-between",margin:"auto",width:"100%",display:"flex",padding:"1%"},attrs:{id:"naglowek"}},[a("b-icon",{attrs:{icon:"arrow-left","font-scale":"2"},on:{click:t.goBack}}),a("h1",[t._v(t._s(t.text))]),a("b-icon",{attrs:{icon:"house-door","font-scale":"2"},on:{click:t.goHome}})],1)},Y=[],X={name:"Naglowek",props:{text:String},return:{},methods:{goHome:function(){this.$router.push("/")},goBack:function(){this.$router.go(-1)}}},Q=X,V=(a("331d"),Object(l["a"])(Q,q,Y,!1,null,"dd3b0634",null)),tt=V.exports,et={name:"Browser",metaInfo:{title:"Zjadłem.pl | Przeglądaj restauracje"},components:{BrowserData:F,Naglowek:tt},data:function(){return{value:"",context:null}},methods:{fetchData:function(){this.$store.state.cords.lat=10}},props:["lat","long"]},at=et,rt=(a("ed12"),Object(l["a"])(at,D,I,!1,null,"4b304cbe",null)),nt=rt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("div",{attrs:{id:"tlo"}},[a("naglowek",{staticStyle:{"margin-bottom":"2%"},attrs:{text:"ZJADŁEM.PL | PROFIL SMAKOSZA"}}),t.$auth.isAuthenticated?a("div",{staticClass:"menuSmakosza"},[a("h1",[t._v("Twój profil Smakosza")]),a("div",{attrs:{id:"dane"}},[a("div",{attrs:{id:"avatarDiv"}},[a("img",{staticClass:"avatar",attrs:{src:t.$auth.user.picture}})]),a("p",[t._v("Imię i Nazwisko: "+t._s(t.$auth.user.name))]),a("p",[t._v("Email: "+t._s(t.$auth.user.email))]),a("p",[t._v("Nick: "+t._s(t.$auth.user.nickname))])])]):t._e()],1)])},it=[],ot={name:"Profile",metaInfo:{title:"Zjadłem.pl | Profil"},components:{Naglowek:tt},data:function(){return{}},methods:{}},ct=ot,ut=(a("f457"),Object(l["a"])(ct,st,it,!1,null,"40be11e5",null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"restauracja"}},[a("div",{attrs:{id:"tlo"}},[a("naglowek",{attrs:{text:"ZJADŁEM.PL | RESTAURACJA"}}),""!=this.$store.state.restId?a("div",{attrs:{id:"daneRestauracji"}},[a("div",{staticClass:"informacjeRest"},[a("div",[a("h2",[a("p",{attrs:{id:"nazwaRest"}},[t._v(t._s(this.$store.state.restNazwa)+" ")])]),a("div",{staticClass:"logoRestDivInfo"},[a("b-img",{staticClass:"logoRest",attrs:{src:this.$store.state.restLogo,fluid:""}})],1),a("div",{staticClass:"flex",staticStyle:{"box-shadow":"0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19)","border-radius":"4% 4% 4% 4%"}},[a("div",{staticClass:"menu",staticStyle:{display:"block","text-align":"left",background:"#eeeeee","border-radius":"4% 0% 0% 4%"}},[a("h2",[t._v("Menu:  ")]),t._l(this.$store.state.restMenu,(function(e,r){return a("div",{key:r,staticClass:"kuchnie",staticStyle:{display:"block"},attrs:{id:"menuOpis"},on:{mouseover:function(a){return t.changeCurrentDanie(e)}}},[a("div",{attrs:{id:"danie"}},[a("span",{attrs:{id:"id"}},[t._v(t._s(r+1)+".")]),a("span",{attrs:{id:"kat"}},[t._v(" "+t._s(e.Kategoria)+": ")]),a("span",{attrs:{id:"skladniki"}},[t._v(t._s(e.Nazwa)+"  ")])])])}))],2),a("div",{staticClass:"potrawa",staticStyle:{display:"block","text-align":"left",background:"#afcfff","border-radius":"0% 4% 4% 0%"}},[a("h2",[t._v("Danie ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],attrs:{id:"ocenaDania"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],staticStyle:{color:"brown"},attrs:{id:"kat"}},[t._v(" "+t._s(this.$store.state.restWybranaPotrawaKategoria)+": ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=this.wybraneDanie,expression:"this.wybraneDanie != '' "}],attrs:{id:"skladniki"}},[t._v(t._s(this.$store.state.restWybranaPotrawaNazwa)+"  ")])])])])])]):a("div",{on:{mouseover:t.goHome}},[t._v("Brak strony")])],1)])},ft=[],ht={name:"Restauracja",metaInfo:{title:"Zjadłem.pl | Restauracja"},components:{Naglowek:tt},data:function(){return{ocena:4,ocenaSpolecznosci:[],wybraneDanie:"",twojaOcena:0,dismissSecs:3,dismissCountDown:0,text:null,avg:""}},created:function(){this.$store.dispatch("bindMenu")},methods:{login:function(){this.$auth.loginWithRedirect()},calculateOcena:function(){for(var t=0,e=0;e<this.ocenaSpolecznosci.length;e++)t+=parseInt(this.ocenaSpolecznosci[e].Ocena,10);var a=t/this.ocenaSpolecznosci.length;this.avg=a},setRating:function(t){this.ocena=t,this.$store.state.restSelectedOcena=t},changeCurrentDanie:function(t){this.wybraneDanie=t.id,this.$store.state.restWybranaPotrawaId=t.id,this.$store.state.restWybranaPotrawaKategoria=t.Kategoria,this.$store.state.restWybranaPotrawaNazwa=t.Nazwa,this.$store.state.currentUserEmail=this.$auth.user.email},ocenienie:function(){this.$store.state.danieKomentarz=this.text,this.$store.commit("addOcenaDania"),this.dismissCountDown=this.dismissSecs},countDownChanged:function(t){this.dismissCountDown=t}}},pt=ht,mt=(a("7e08"),Object(l["a"])(pt,dt,ft,!1,null,"c8710df6",null)),bt=mt.exports,vt=a("5530"),gt=a("1da1"),wt=a("15fd"),kt=(a("caad"),a("2532"),a("ac1f"),a("841c"),a("96cf"),a("9767")),_t=["onRedirectCallback","redirectUri"],jt=function(){return window.history.replaceState({},document.title,window.location.pathname)},yt=function(){return G},Ct=function(t){var e=t.onRedirectCallback,a=void 0===e?jt:e,n=t.redirectUri,s=void 0===n?window.location.origin:n,i=Object(wt["a"])(t,_t);return G||(G=new r["default"]({data:function(){return{loading:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(t,e){var a=this;return Object(gt["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.popupOpen=!0,r.prev=1,r.next=4,a.auth0Client.loginWithPopup(t,e);case 4:return r.next=6,a.auth0Client.getUser();case 6:return a.user=r.sent,r.next=9,a.auth0Client.isAuthenticated();case 9:a.isAuthenticated=r.sent,a.error=null,r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](1),a.error=r.t0,console.error(r.t0);case 17:return r.prev=17,a.popupOpen=!1,r.finish(17);case 20:return r.next=22,a.auth0Client.getUser();case 22:a.user=r.sent,a.isAuthenticated=!0;case 24:case"end":return r.stop()}}),r,null,[[1,13,17,20]])})))()},handleRedirectCallback:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.auth0Client.handleRedirectCallback();case 4:return e.next=6,t.auth0Client.getUser();case 6:t.user=e.sent,t.isAuthenticated=!0,t.error=null,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.error=e.t0;case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()},loginWithRedirect:function(t){return this.auth0Client.loginWithRedirect(t)},getIdTokenClaims:function(t){return this.auth0Client.getIdTokenClaims(t)},getTokenSilently:function(t){return this.auth0Client.getTokenSilently(t)},getTokenWithPopup:function(t){return this.auth0Client.getTokenWithPopup(t)},logout:function(t){return this.auth0Client.logout(t)}},created:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(kt["a"])(Object(vt["a"])(Object(vt["a"])({},i),{},{client_id:i.clientId,redirect_uri:s}));case 2:if(t.auth0Client=e.sent,e.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=11;break}return e.next=7,t.auth0Client.handleRedirectCallback();case 7:r=e.sent,n=r.appState,t.error=null,a(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),t.error=e.t0;case 16:return e.prev=16,e.next=19,t.auth0Client.isAuthenticated();case 19:return t.isAuthenticated=e.sent,e.next=22,t.auth0Client.getUser();case 22:return t.user=e.sent,t.loading=!1,e.finish(16);case 25:case"end":return e.stop()}}),e,null,[[3,13,16,25]])})))()}}),G)},$t={install:function(t,e){t.prototype.$auth=Ct(e)}},Ot=function(t,e,a){var r=yt(),n=function(){if(r.isAuthenticated)return a();r.loginWithRedirect({appState:{targetUrl:t.fullPath}})};if(!r.loading)return n();r.$watch("loading",(function(t){if(!1===t)return n()}))};r["default"].use(y["a"]);var xt=[{path:"/",name:"Home",component:E},{path:"/Browser",name:"Browser",component:nt},{path:"/about",name:"About",component:function(){return a.e("chunk-4dffa580").then(a.bind(null,"f820"))}},{path:"/profile",name:"profile",component:lt,beforeEnter:Ot},{path:"/restauracja",name:"restauracja",component:bt}],Rt=new y["a"]({mode:"history",base:"/",routes:xt}),St=Rt,zt=a("cca8"),Mt=a("5f5b"),At=a("b1e0"),Lt=(a("f9e3"),a("2dd8"),a("2f62")),Pt=a("3317");r["default"].use(Lt["a"]);var Et=new Lt["a"].Store({state:{events:[],cords:{lat:"",long:""},restCords:{lat:"",long:""},allowedCords:!1,miasto:"",restauracje:[],restauracjeBeta:[],todos:[],error:"",id:null,nazwa:"a",kuchnia:null,user:{loggedIn:!1,data:null},restId:"",restNazwa:"",restAdres:"",restKuchnie:[],restLogo:"",restMiasto:"",restNumerLokalu:"",restOceny:[],restUlica:"",restMenu:[],restKomentarze:[],restWybranaPotrawaId:"",restWybranaPotrawaKategoria:"",restWybranaPotrawaNazwa:"",restWybranaPotrawaOcena:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restWybranaPotrawaOcenaSpolecznosci:[{Autor:"brak",Ocena:"0",Komentarz:"brak"}],restSelectedOcena:"",danieKomentarz:"",currentUserEmail:"",danieId:"",avgOcena:0},getters:{user:function(t){return t.user}},mutations:Object(vt["a"])(Object(vt["a"])({},Pt["b"]),{},{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e},addOcenaDania:Object(Pt["a"])((function(t){var e=t.restId,a=t.restWybranaPotrawaId,r=t.restSelectedOcena,n=t.currentUserEmail,s=t.danieKomentarz,i=U.collection("Restauracje").doc(e).collection("Menu").doc(a).collection("Oceny"),o=U.collection("Restauracje").doc(e).collection("Menu").doc(a).collection("Oceny").where("Autor","==",t.currentUserEmail);o.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?(i.doc(t.docs[0].id).delete(),i.add({Ocena:r,Autor:n,Komentarz:s})):i.add({Ocena:r,Autor:n,Komentarz:s})}))}))}),modules:{},actions:{bindRestauracja:Object(Pt["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,r=a.miasto,n="restauracje",s="Restauracje",i="==",o="Miasto";return""!=r?e(n,U.collection(s).where(o,i,r)):e("restauracje",U.collection("Restauracje"))})),readOcenaDaniaBetaDwa:Object(Pt["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,r=a.restId,n=a.restWybranaPotrawaId,s=U.collection("Restauracje").doc(r).collection("Menu").doc(n).collection("Oceny").where("Autor","==",a.currentUserEmail),i=U.collection("Restauracje").doc(r).collection("Menu").doc(n).collection("Oceny");s.get().then((function(t){t.docs.map((function(t){return t.data()}));0!=t.docs.length?e("restWybranaPotrawaOcena",s):a.restWybranaPotrawaOcena=[{Autor:"brak",Ocena:"0",Komentarz:"brak"}]})),i.get().then((function(t){var r=t.docs.map((function(t){return t.data()}));if(0!=t.docs.length){e("restWybranaPotrawaOcenaSpolecznosci",i);for(var n=0,s=0;s<r.length;s++)n+=r[s].Ocena;var o=n/r.length;a.avgOcena=o,e("avgOcena",o)}else o=0,a.avgOcena=o,a.restWybranaPotrawaOcenaSpolecznosci=[{Autor:"brak",Ocena:"0",Komentarz:"brak"}]}))})),bindOcena:function(t){t.state;var e=t.dispatch;e("readOcenaDaniaBetaDwa")},bindMenu:Object(Pt["a"])((function(t){var e=t.bindFirestoreRef,a=t.state,r="restMenu",n="restOceny",s="Restauracje",i=a.restId;""!=i&&(e(r,U.collection(s).doc(i).collection("Menu")),e(n,U.collection(s).doc(i).collection("Menu").doc(a.restMenu[0]).collection("Oceny")))})),fetchUser:function(t,e){var a=t.commit;a("SET_LOGGED_IN",null!==e),a("SET_USER",e?{displayName:e.displayName,email:e.email}:null)}}}),Dt=a("58ca"),It=a("8160");r["default"].use($t,{domain:It["b"],clientId:It["a"],onRedirectCallback:function(t){St.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),r["default"].config.productionTip=!1,r["default"].use(zt["a"]),r["default"].use(Dt["a"]),r["default"].use(Mt["a"]),r["default"].use(At["a"]),new r["default"]({router:St,store:Et,render:function(t){return t(j)}}).$mount("#app")},"5af5":function(t,e,a){"use strict";a("1ebe")},"5c0b":function(t,e,a){"use strict";a("9c0c")},6011:function(t,e,a){},"7e08":function(t,e,a){"use strict";a("e863b")},8160:function(t){t.exports=JSON.parse('{"b":"zjadlempl.eu.auth0.com","a":"fd6YiIlIluzEdfeIN5diqgPpBwxaaeRc"}')},"8d22":function(t,e,a){"use strict";a("e108")},"9c0c":function(t,e,a){},"9d7a":function(t,e,a){"use strict";a("1cc7")},"9ff1":function(t,e,a){"use strict";a("47a8")},b88b:function(t,e,a){"use strict";a("419f")},cf05:function(t,e,a){t.exports=a.p+"img/logo.b2b3a909.png"},e108:function(t,e,a){},e5c4:function(t,e,a){},e863b:function(t,e,a){},ed12:function(t,e,a){"use strict";a("6011")},f457:function(t,e,a){"use strict";a("e5c4")}});
//# sourceMappingURL=app.87b7fc6c.js.map